# Travis notes

This file documents the travis build process and related triggers used in this
repo. Specific tasks are executed based on special _commit messages_ described
below:

1. `[TRAVIS] Autogenerated files from travis`. This halts the build process at
   the very beginning. This message is used by pushes from travis itself so that
   the builds don't fall in an infinite loop.
2. `[TRAVIS] Generate scores`. This commit signals travis to run the score
   generation script. This message can be used to trigger a score regeneration
   during the epidemic season.

Every time commits are pushed on the repo, a travis [build
process](https://travis-ci.org/FluSightNetwork/cdc-flusight-ensemble/) is
triggered which does the following:

1. Check if the commit is `[TRAVIS] Autogenerated files from travis`. If yes,
   then exit build.
2. Run tests on csv files. If not on `master` branch, end build here.
3. If commit message is `[TRAVIS] Generate scores`, run score generation scripts
   and push scores and other autogenerated files to github.
4. Setup R packages for real time ensemble script.
5. [TODO] Create real time ensemble files and push to `master` branch.
6. Build flusight visualizer and push to `gh-pages` branch.
